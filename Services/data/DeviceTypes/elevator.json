{
    "SchemaVersion": "1.0.0",
    "Id": "c84aaaac-0ba0-4e52-a103-ebb8a9b7f8f9",
    "Version": "0.0.1",
    "Name": "Truck",
    "Description": "Simulated Truck with speed and geolocation sensors",
    "Protocol": "MQTT",
    "DeviceBehavior": {
        "get_truck_speed": {
            "Type": "javascript",
            "Path": "truck-speed-sensor.js"
        },
        "get_truck_location": {
            "Type": "javascript",
            "Path": "truck-geolocation-sensor.js"
        },
        "do_start": {
            "Type": "javascript",
            "Path": "truck-start-method.js"
        }
    },
    "Telemetry": {
        "Messages": [
            {
                "Interval": "00:00:10",
                "MessageTemplate":
                    "{\"speed\":${get_truck_speed.value},\"geolocation\":\"${get_truck_location.value}\",\"speed_unit\":\"mph\"}",
                "MessageSchema": {
                    "Name": "truck;v1",
                    "Format": "JSON",
                    "Fields": {
                        "speed": "integer",
                        "geolocation": "text",
                        "speed_unit": "text"
                    }
                }
            }
        ]
    },
    "CloudToDeviceMethods": {
        "GoDownOneFloor": {
            "Actions": [
                "${do_elevator_go_down}"
            ]
        },
        "GoUpOneFloor": {
            "Actions": [
                "${do_elevator_go_up}"
            ]
        }
    }
}
